<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Home_Person</title>
    <link href="../../css/Home_Part/Home_Person.css" rel="stylesheet">
    <link href="../../css/Home_Part/Friend_Home.css" rel="stylesheet">
    <script src="../../js/jquery-3.4.1.min.js"></script>
    <script src="../../js/vue.min.js"></script>
    <script>
        $(function () {
            function getCookie(cname) {
                var name = cname + "=";
                var decodedCookie = decodeURIComponent(document.cookie);
                var ca = decodedCookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }

            // var username=getCookie("cookie_username");
            var account = getCookie("cookie_friendaccount");

            //绑定个人信息
            var userin = new Vue({
                el: "#info",
                data: {
                    imgurl: "",
                    name: "",
                    account:"",
                    sex: "",
                    birthday:"",
                    fondness: "",
                    signature: "",
                    phone: ""
                }
            })

            //获取个人的信息
            $(function () {
                $.ajax({
                    url: "http://127.0.0.1:8090/userinfo/findUserInfo",
                    dataType: "json",
                    type: "post",
                    data: {
                        userid: account,
                    }, success: function (data) {
                        alert("获取个人信息成功")
                        userin.imgurl = data.avatar;
                        userin.name = data.name;
                        userin.account=data.account;
                        userin.sex = data.sex;
                        userin.birthday = data.birthday;
                        userin.fondness = data.fondness;
                        userin.signature = data.signature;
                        userin.phone = data.phone;
                    }, error: function (data) {
                        alert("获取个人信息失败")
                    }
                })
            })
        })

    </script>
</head>

<body>
<!--左侧好友列表-->
<div id="letf_part">
    <div id="overview">
        <li><div>说说： </div><p>****</p></li>
        <li><div>留言： </div><p>****</p></li>
        <li><div>相册： </div><p>****</p></li>
    </div>

</div>
<!--      中间的好友动态部分-->
<div id="center_part"></div>
<!--右侧的个人信息展示部分-->
<div id="right_part">
    <div id="info">
        <div id="user_logo"><img id="user_logo_img" v-bind:src="imgurl"/></div>
        <div id="user_account"><p>账号：{{account}}</p></div>
        <div id="user_name" >
            <p>昵称：</p><p>{{name}}</p>
        </div>

        <li><div class="model"><div id="sex" >性别：</div><div class="write">{{sex}}</div></div></li>
        <li><div class="model"><div id="birthday">出生年月日：</div><div class="write">{{birthday}}</div></div></li>
        <li><div class="model"><div id="like">爱好：</div><div class="write">{{fondness}}</div></div></li>
        <li><div class="model"><div id="sign">个性签名：</div><div class="write">{{signature}}</div></div></li>
        <li><div class="model"><div id="phone">电话号码：</div><div class="write">{{phone}}</div></div></li>


    </div>
</div>
</body>
</html>